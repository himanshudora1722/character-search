{"version":3,"file":"static/webpack/static/development/pages/index.js.ddb2478e2c04dec1c993.hot-update.js","sources":["webpack:///./src/components/organism/SearchDetail/SearchDetail.view.js"],"sourcesContent":["import React, { Component } from 'react';\nimport Filter from '../../molecules/Filters'\n\nclass SearchDetailView extends Component {\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis.state = {\n\t\t\tsortValue: 'ascending',\n\t\t\tsearchValue: '',\n\t\t\tpost: [],\n\t\t\tsearchedArray: [],\n\t\t}\n\t}\n\n\tgetUniqueGenderValueofCharacter = characterArray => characterArray && [...new Set(characterArray.map(a => a.gender))];\n\n\tgetUniqueSpeciesValueofCharacter = characterArray => characterArray && [...new Set(characterArray.map(a => a.species))];\n\n\tgetUniqueOriginValueofCharacter = characterArray => characterArray && [...new Set(characterArray.map(a => a.origin.name))];\n\n\tgetDateDiffInYears = date => {\n\t\tconst createdDate = new Date(date);\n\t\tconst currentDate = new Date();\n\t\treturn Math.abs(new Date(currentDate-createdDate).getUTCFullYear() - 1970);\n\t}\n\n\thandleChange = e => {\n\t\tthis.setState({\n\t\t\tsortValue: e.target.value,\n\t\t})\n\t}\n\n\tcompare = (postA, postB) => {\n\t\tconst bandA = postA.id;\n\t\tconst bandB = postB.id;\n\t\n\t\tlet comparison = 0;\n\t\tif (bandA > bandB) {\n\t\t\tcomparison = 1;\n\t\t} else if (bandA < bandB) {\n\t\t\tcomparison = -1;\n\t\t}\n\t\treturn comparison;\n\t}\n\n\thandleSearchChange = e => {\n\t\tthis.setState({ searchValue: e.target.value });\n\t}\n\n\thandleClick = () => {\n\t\tconst { searchValue, post, searchedArray } = this.state;\n\t\tconst { characters } = this.props;\n\n\t\tlet charactersToBeSearched = characters;\n\t\tif(post.length > 0 && searchValue) {\n\t\t\tcharactersToBeSearched = post;\n\t\t} else if(!searchValue && searchedArray.length > 0) {\n\t\t\tcharactersToBeSearched = searchedArray;\n\t\t}\n\n\t\tconst searchedPost =[];\n\n\t\tcharactersToBeSearched.find((post) => {\n\t\t\tif(post.name.toLowerCase().includes(searchValue.toLowerCase()))\n\t\t\t\tsearchedPost.push(post);\n\t\t});\n\n\t\tthis.setState({\n\t\t\tpost: searchedPost\n\t\t})\n\t}\n\n\thandleFilterChange = e => {\n\t\tconst { characters } = this.props;\n\t\tconst { post } = this.state;\n\t\tconst key = e.target.id.split('-')[0];\n\n\t\tlet uniqueArray;\n\t\tlet toDeleteArray;\n\t\tlet newArray;\n\t\t\n\t\tif (key.toLowerCase() === 'gender') {\n\t\t\tif (e.target.checked) {\n\t\t\t\tuniqueArray = new Set(post.concat(characters.filter(item => item.gender === e.target.name)))\n\t\t\t\tthis.setState({\n\t\t\t\t\tpost: [...uniqueArray],\n\t\t\t\t\tsearchedArray: [...uniqueArray]\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\ttoDeleteArray = characters.filter(item => item.gender === e.target.name);\n\t\t\t\tnewArray = this.getRemovedResult(toDeleteArray);\n\n\t\t\t\tthis.setState({\n\t\t\t\t\tpost: [...newArray],\n\t\t\t\t\tsearchedArray: [...newArray]\n\t\t\t\t})\n\t\t\t}\n\t\t} else if (key.toLowerCase() === 'species') {\n\t\t\tif (e.target.checked) {\n\t\t\t\tuniqueArray = new Set(post.concat(characters.filter(item => item.species === e.target.name)))\n\t\t\t\tthis.setState({\n\t\t\t\t\tpost: [...uniqueArray],\n\t\t\t\t\tsearchedArray: [...uniqueArray]\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\ttoDeleteArray = characters.filter(item => item.species === e.target.name);\n\t\t\t\tnewArray = this.getRemovedResult(toDeleteArray)\n\n\t\t\t\tthis.setState({\n\t\t\t\t\tpost: [...newArray],\n\t\t\t\t\tsearchedArray: [...newArray]\n\t\t\t\t})\n\t\t\t}\n\t\t} else {\n\t\t\tif(e.target.checked) {\n\t\t\t\tuniqueArray = new Set(post.concat(characters.filter(item => item.origin.name === e.target.name)))\n\t\t\t\tthis.setState({\n\t\t\t\t\tpost: [...uniqueArray],\n\t\t\t\t\tsearchedArray: [...uniqueArray]\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\ttoDeleteArray = characters.filter(item => item.origin.name === e.target.name);\n\t\t\t\tnewArray = this.getRemovedResult(toDeleteArray);\n\n\t\t\t\tthis.setState({\n\t\t\t\t\tpost: [...newArray],\n\t\t\t\t\tsearchedArray: [...newArray]\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n\n\tgetRemovedResult = toDeleteArray => {\n\t\tconst { post } = this.state;\n\t\tconst toDelete =  new Set(toDeleteArray.map(item => item.id));\n\t\treturn post.filter(obj => !toDelete.has(obj.id));\n\t}\n\n\trender() {\n\t\tconst { characters, className } = this.props;\n\t\tconst { sortValue, post } = this.state;\n\n\t\tlet posts = post.length > 0 ? post : characters;\n\n\t\tconst filterObject = {\n\t\t\tgender: this.getUniqueGenderValueofCharacter(posts),\n\t\t\tspecies: this.getUniqueSpeciesValueofCharacter(posts),\n\t\t\torigin: this.getUniqueOriginValueofCharacter(posts),\n\t\t}\n\n\t\tposts = posts && sortValue === 'ascending' ? posts.sort(this.compare) : posts && posts.reverse();\n\n\t\treturn posts && posts.length > 0 ? (\n\t\t\t<div className={`${className} o-searchDetail`}>\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<div className=\"col-md-3 col-xs-12 fc-black\">\n\t\t\t\t\t\t<h1>Filters</h1>\n\t\t\t\t\t\t{Object.keys(filterObject).map(key => {\n\t\t\t\t\t\t\tconsole.log('=========key', key)\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Filter \n\t\t\t\t\t\t\t\t\tfilterObject={filterObject}\n\t\t\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\t\t\thandleFilterChange={this.handleFilterChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"col-md-9 col-xs-12\">\n\t\t\t\t\t\t<div className=\"row search-sort-section\">\n\t\t\t\t\t\t\t<h1 className=\"col-xs-12 pl-0\">Selected Filters</h1>\n\t\t\t\t\t\t\t<div className=\"col-xs-6 mt30 pl-0\">\n\t\t\t\t\t\t\t\t<label for=\"search\" className=\"search-label\">Search By Name</label><br/>\n\t\t\t\t\t\t\t\t<input type=\"text\" id=\"search\" name=\"search\" className=\"search-input\" onChange={ this.handleSearchChange } />\n\t\t\t\t\t\t\t\t<button type=\"button\" value=\"Submit\" className=\"search-button\" onClick={this.handleClick}>Search</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"col-xs-6 mt30 relative\">\n\t\t\t\t\t\t\t\t<select id=\"sort\" name=\"sort\" className=\"sort\" onChange={this.handleChange}>\n\t\t\t\t\t\t\t\t\t<option value=\"ascending\" selected>Ascending</option>\n\t\t\t\t\t\t\t\t\t<option value=\"decending\">Decending</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"row items\">\n\t\t\t\t\t\t\t{posts.map(character => (\n\t\t\t\t\t\t\t\t<div className=\"character-block col-md-3 col-xs-6\">\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<img className=\"full-image\" src={character.image} alt=\"\" />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"character-name\">\n\t\t\t\t\t\t\t\t\t\t{character.name}\n\t\t\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t\t\t<span className=\"label-size\">\n\t\t\t\t\t\t\t\t\t\t\t{`id: `}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<span className=\"label-size\">\n\t\t\t\t\t\t\t\t\t\t\t{`${character.id} - `}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<span className=\"label-size\">\n\t\t\t\t\t\t\t\t\t\t\tcreated {this.getDateDiffInYears(character.created)} years ago\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"character-detail\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"row wrap\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-xs-6 adjust-padding-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"details darkgray\">Status</span>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-xs-6 align-right adjust-padding-right\">{character.status}</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class=\"row wrap\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-xs-6 adjust-padding-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"details darkgray\">Species</span>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-xs-6 align-right adjust-padding-right\">{character.species}</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class=\"row wrap\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-xs-6 adjust-padding-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"details darkgray\">Gender</span>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-xs-6 align-right adjust-padding-right\">{character.gender}</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class=\"row wrap\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-xs-6 adjust-padding-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"details darkgray\">Origin</span>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-xs-6 align-right adjust-padding-right\">{character.origin.name}</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class=\"row wrap\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-xs-6 adjust-padding-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"details darkgray\">Last Location</span>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-xs-6 align-right adjust-padding-right\">{character.location.name}</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t) : null\n\t}\n}\n\nexport default SearchDetailView"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AACA;AADA;AACA;AADA;AACA;AADA;AAkBA;AACA;AACA;AACA;AACA;AAtBA;AAwBA;AACA;AADA;AAGA;AACA;AA5BA;AA8BA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAzCA;AA2CA;AAAA;AAAA;AACA;AACA;AA7CA;AA+CA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AADA;AAGA;AACA;AApEA;AAsEA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAEA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAEA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAEA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAhIA;AAkIA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAnIA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AA6HA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAEA;AACA;AACA;AACA;AAHA;AAMA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AAhPA;AACA;AAiPA;;;;A","sourceRoot":""}